<!DOCTYPE html>
<html id="html" lang="zh-cmn-Hans">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="description" content="感恩日"/>
<meta name="keywords" content="感恩日"/>
<meta name="author" content="name, sycbbb@sina.com"/>
<meta name="robots" content="index,follow"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-status-bar-style" content="black"/>
<meta name="format-detection" content="telephone=no, email=no,adress=no"/>
<meta name="msapplication-tap-highlight" content="no">
<title>感恩日</title>
<link rel="stylesheet" href="styles/index.css">
<style>
	.slider{position:absolute;height:2rem;box-shadow:0 0 3px #999;background-color:#ddd;left:0;right:0;overflow: hidden;}
	.label {
	    background: -webkit-gradient(linear, left top, right top, color-stop(0, #4d4d4d), color-stop(.4, #4d4d4d), color-stop(.5, white), color-stop(.6, #4d4d4d), color-stop(1, #4d4d4d));
	    -webkit-background-clip: text;
	    -webkit-text-fill-color: transparent;
	    -webkit-animation: slidetounlock 3s infinite;
	    -webkit-text-size-adjust: none;
	    line-height: 2rem;
	    height: 2rem;
	    text-align: center;
	    font-size: 16px;
	    width: 100%;
	    color: #aaa;
	}
	@keyframes slidetounlock
	{
	    0%     {background-position:-200px 0;}
	    100%   {background-position:200px 0;}
	}
	@-webkit-keyframes slidetounlock
	{
	    0%     {background-position:-200px 0;}
	    100%   {background-position:200px 0;}
	}
	.button{
	    position: absolute;
	    left: 0;
	    top: 0;
	    width: 2rem;
	    height: 2rem;
	    background-color: #fff;
	    transition: left 0s;
	    -webkit-transition: left 0s;
	}
	.button-on{
	    position: absolute;
	    left: 0;
	    top: 0;
	    width: 2rem;
	    height: 2rem;
	    background-color: #fff;
	    transition: left 1s;
	    -webkit-transition: left .5s;
	}
	.button1{
	    position: absolute;
	    display: none;
	    right: 0;
	    top: 0;
	    width: 2rem;
	    height: 2rem;
	    background-color: #fff;
	}
	.track{
	    position: absolute;
	    left: 0;
	    top: 0;
	    height: 100%;
	    width: 0;
	    overflow: hidden;
	    transition: width 0s;
	    -webkit-transition: width 0s;
	}
	.track-on{
	    position: absolute;
	    left: 0;
	    top: 0;
	    height: 100%;
	    width: 0;
	    overflow: hidden;
	    transition: width 1s;
	    -webkit-transition: width .5s;
	}
	.icon  {
	    width: 2rem;
	    height: 2rem;
	    position: relative;
	    font-family: sans-serif;
        display: -webkit-flex;
        display: flex;
	    align-items: center;
	    justify-content: center;
	}
	.icon:before{
	    content:'>>';
	    color:#ccc;
	    line-height:32px;
	}
	.button1 .ok  {
	    width: 2rem;
	    height: 2rem;
	    position: relative;
	    display:none;
	    font-family: sans-serif;
        display: flex;
	    align-items: center;
	    justify-content: center;
	}
	.button1 .ok:before{
	    position: absolute;
	    content:'\2714';
	    color:#78c430;
	}
	.spinner {
	    margin: 16px auto;
	    display: none;
	    width: 20px;
	    height: 20px;
	    position: relative;
	}
	.container1 > div, .container2 > div, .container3 > div {
	    width: 6px;
	    height: 6px;
	    background-color: #ccc;
	    border-radius: 100%;
	    position: absolute;
	    -webkit-animation: bouncedelay 1.2s infinite ease-in-out;
	    animation: bouncedelay 1.2s infinite ease-in-out;
	    -webkit-animation-fill-mode: both;
	    animation-fill-mode: both;
	}
	.spinner .spinner-container {
	    position: absolute;
	    width: 100%;
	    height: 100%;
	}
	.container2 {
	    -webkit-transform: rotateZ(45deg);
	    transform: rotateZ(45deg);
	}
	.container3 {
	    -webkit-transform: rotateZ(90deg);
	    transform: rotateZ(90deg);
	}
	.circle1 { top: 0; left: 0; }
	.circle2 { top: 0; right: 0; }
	.circle3 { right: 0; bottom: 0; }
	.circle4 { left: 0; bottom: 0; }
	.container2 .circle1 {
	    -webkit-animation-delay: -1.1s;
	    animation-delay: -1.1s;
	}
	.container3 .circle1 {
	    -webkit-animation-delay: -1.0s;
	    animation-delay: -1.0s;
	}
	.container1 .circle2 {
	    -webkit-animation-delay: -0.9s;
	    animation-delay: -0.9s;
	}
	.container2 .circle2 {
	    -webkit-animation-delay: -0.8s;
	    animation-delay: -0.8s;
	}
	.container3 .circle2 {
	    -webkit-animation-delay: -0.7s;
	    animation-delay: -0.7s;
	}
	.container1 .circle3 {
	    -webkit-animation-delay: -0.6s;
	    animation-delay: -0.6s;
	}
	.container2 .circle3 {
	    -webkit-animation-delay: -0.5s;
	    animation-delay: -0.5s;
	}
	.container3 .circle3 {
	    -webkit-animation-delay: -0.4s;
	    animation-delay: -0.4s;
	}
	.container1 .circle4 {
	    -webkit-animation-delay: -0.3s;
	    animation-delay: -0.3s;
	}
	.container2 .circle4 {
	    -webkit-animation-delay: -0.2s;
	    animation-delay: -0.2s;
	}
	.container3 .circle4 {
	    -webkit-animation-delay: -0.1s;
	    animation-delay: -0.1s;
	}
	@-webkit-keyframes bouncedelay {
	    0%, 80%, 100% { -webkit-transform: scale(0.0) }
	    40% { -webkit-transform: scale(1.0) }
	}
	@keyframes bouncedelay {
	    0%, 80%, 100% {
	        transform: scale(0.0);
	        -webkit-transform: scale(0.0);
	    } 40% {
	          transform: scale(1.0);
	          -webkit-transform: scale(1.0);
	      }
	}
	.bg-green {
	    line-height: 52px;
	    height: 52px;
	    text-align: center;
	    font-size: 16px;
	    background-color: #78c430;
	}
</style>
</head>
<body>
<div class="wrapper" id="wrapper" style="background:url('images/bg.jpg') #f52b5a no-repeat;background-size:100% auto;">
	<div class="logo"><img src="images/logo.png" alt=""></div>
	<div class="lotteryDraw" style="background:url('images/draw_bg.png') no-repeat; background-size:100% auto;">
		<p>已有<strong>102345</strong>人参与</p>
		<div id="lottery"> 
		    <table border="0" cellpadding="0" cellspacing="0"> 
		        <tr> 
		            <td class="lottery-unit lottery-unit-0">
			            <img src="images/learn7.png">
			            <p>体验券</p>
			            <div class="mask"></div>
		            </td> 
		            <td class="lottery-unit lottery-unit-1">
			            <img src="images/coupon10.png">
			            <p>电子优惠券</p>
			            <div class="mask"></div>
		            </td> 
		            <td class="lottery-unit lottery-unit-2">
			            <img src="images/coupon30.png">
			            <p>电子优惠券</p>
			            <div class="mask"></div>
		            </td> 
		        </tr> 
		        <tr> 
		            <td class="lottery-unit lottery-unit-8">
			            <img src="images/ticket.png">
			            <p>体验券</p>
			            <div class="mask"></div>
		            </td> 
		            <td style="background:url('images/td_bg.png') no-repeat; background-size:100% 100%;">
		            	<a href="javascript:;">点&nbsp;击抽&nbsp;奖</a>
		            	<p>今日剩余<strong>2</strong>次</p>
		            </td> 
		            <td class="lottery-unit lottery-unit-4">
			            <img src="images/free.png">
			            <p>免费房</p>
			            <div class="mask"></div>
		            </td> 
		        </tr> 
		        <tr> 
		            <td class="lottery-unit lottery-unit-7">
		            	<img src="images/integral.png">
		            	<p>体验券</p>
		            	<div class="mask"></div>
		            </td> 
		            <td class="lottery-unit lottery-unit-6">
		            	<img src="images/thanks.png">
		            	<p>谢谢参与</p>
		            	<div class="mask"></div>
		            </td> 
		            <td class="lottery-unit lottery-unit-5">
		            	<img src="images/coupon20.png">
		            	<p>积分</p>
		            	<div class="mask"></div>
		            </td> 
		        </tr> 
		    </table> 
		</div>
	</div>
	<div class="roster">
		<h3>中奖名单</h3>
		<div class="rosterList">
			<ul>
				<li><p><span>广州用户</span><span>139XXXX1234</span><span>抽中</span><span>10元满减券</span></p></li>
				<li><p><span>广州用户</span><span>139XXXX1234</span><span>抽中</span><span>20元满减券</span></p></li>
				<li><p><span>广州用户21</span><span>139XXXX1234</span><span>抽中</span><span>30元满减券</span></p></li>
				<li><p><span>广州用户72</span><span>139XXXX1234</span><span>抽中</span><span>140元满减券</span></p></li>
				<li><p><span>广州用户3</span><span>139XXXX1234</span><span>抽中</span><span>150元满减券</span></p></li>
			</ul>	
		</div>
	</div>
	<footer class="footer">
	    <a href="javascript:;" onclick="prizeMask();">我的奖品</a>
	    <a href="javascript:;" onclick="ruleMask();">活动规则</a>
	</footer>
</div>
<!-- mask begin -->
<div class="mask" onclick="maskRun();"></div>
<div class="ruleMask">
	<div class="title">
		<h3>活动规则</h3>
		<img src="images/mask_title.png" alt="">
	</div>
	<div class="content">
		<p>1、规则规则规则规则规则规则规则规则规则规则规则； </p>
		<p>2、规则规则规则规则规则规则规则规则规则则则则则则则则规则规则规则规规则规</p>
	</div>
	<div class="foot"><p>活动最终解释权由东呈国际酒店所有</p></div>
	<div class="close" onclick="closeHide();"></div>
</div>
<div class="prizeListMask">
	<div class="title">
		<h3>我的奖品</h3>
		<img src="images/mask_title.png" alt="">
	</div>
	<div class="content">
		<div class="item">
			<div class="img"><img src="images/coupon10.png" alt=""></div>
			<p>优惠券10元</p>
			<p class="not">未领取</p>
		</div>
		<div class="item">
			<div class="img"><img src="images/coupon10.png" alt=""></div>
			<p>积分</p>
			<p class="not">未领取</p>
		</div>
		<div class="item">
			<div class="img"><img src="images/coupon10.png" alt=""></div>
			<p>积分</p>
			<p>成功领取</p>
		</div>
	</div>
	<div class="close" onclick="closeHide();"></div>
</div>
<div class="successMask">
	<h3>领取成功</h3>
	<p>*奖品已绑定至会员账户</p>
</div>
<div class="prizeMask">
	<img src="images/prize_bg.png" alt="">
	<img src="images/prize_title.png" alt="">
	<div class="prizeTxt">
		<div class="text">
			<div class="img">
				<img src="images/coupon10.png" alt="">
				<p>优惠券</p>
			</div>
			<div class="textList">
				<p>恭喜你</p>
				<p>抽中<span>积分</span>一份</p>
				<p>立刻领取奖品吧</p>
			</div>
		</div>
		<a href="javascript:;" onclick="receive();">立即领取</a>
	</div>
	<div class="close" onclick="closeHide();"></div>
</div>
<div class="receivePrizesMask">
	<img src="images/prize_bg.png" alt="">
	<img src="images/prize_title1.png" alt="">
	<div class="receivePrizesTxt">
		<div class="text">
			<div class="img">
				<img src="images/coupon10.png" alt="">
				<p>优惠券</p>
			</div>
			<div class="textList">
				<p>恭喜你</p>
				<p>获得实物奖品</p>
				<p><strong>【一堆积分】x 1</strong></p>
			</div>
		</div>
		<div class="importInformation">
			<div class="item">
				<label>姓名</label>
				<input type="text">
			</div>
			<div class="item">
				<label>手机</label>
				<input type="text">
			</div>
			<div class="item">
				<label>地址</label>
				<input type="text">
			</div>
		</div>
		<a href="javascript:;" onclick="submit();">确定提交</a>
		<p>注：因实物奖品需快递发送，请填写准确的地址信息</p>
	</div>
	<div class="close" onclick="closeHide();"></div>
</div>
<div class="receivePrizesIDMask">
	<img src="images/prize_bg.png" alt="">
	<img src="images/prize_title1.png" alt="">
	<div class="receivePrizesTxt">
		<div class="text">
			<div class="img">
				<img src="images/coupon10.png" alt="">
				<p>优惠券</p>
			</div>
			<div class="textList">
				<p>恭喜你</p>
				<p>获得实物奖品</p>
				<p><strong>【一堆积分】x 1</strong></p>
			</div>
		</div>
		<div class="importInformation">
			<div class="item">
				<label>身份证</label>
				<input type="text">
			</div>
		</div>
		<a href="javascript:;" onclick="">确定提交</a>
	</div>
	<div class="close" onclick="closeHide();"></div>
</div>
<div class="notPrize">
	<img src="images/not_prize_title.png" alt="">
	<img src="images/not_prize_bg.png" alt="">
	<div class="notPrizeTxt">
		<div class="txt">
			<div class="l"><img src="images/dog.png" alt=""></div>
			<div class="r">
				<p>嗯，</p>
				<p>一定是今天还没有</p>
				<p><strong>默念：爱上城市便捷</strong></p>
			</div>
		</div>
		<a href="javascript:;">once again</a>
	</div>
	<div class="close" onclick="closeHide();"></div>
</div>
<div class="loginMask">
	<img src="images/login_logo.jpg" alt="">
	<form action="">
		<div class="item phone">
			<img src="images/phone_icon.png" alt="">
			<input type="text" placeholder="请输入手机号">
		</div>
		<div class="item" style="position:relative;border:0;">
			<div class="slider" id="slider">
		        <div class="label">向右滑动验证</div>
		        <div class="track" id="track">
		            <div class="bg-green"></div>
		        </div>
		        <div class="button" id="btn">
		            <div class="icon" id="icon"></div>
		        </div>
		        <div class="button1" id="btn1">
		            <div class="spinner" id="spinner">
		                <div class="spinner-container container1">
		                    <div class="circle1"></div>
		                    <div class="circle2"></div>
		                    <div class="circle3"></div>
		                    <div class="circle4"></div>
		                </div>
		                <div class="spinner-container container2">
		                    <div class="circle1"></div>
		                    <div class="circle2"></div>
		                    <div class="circle3"></div>
		                    <div class="circle4"></div>
		                </div>
		                <div class="spinner-container container3">
		                    <div class="circle1"></div>
		                    <div class="circle2"></div>
		                    <div class="circle3"></div>
		                    <div class="circle4"></div>
		                </div>
		            </div>
		            <div class="ok" id="ok"></div>
		        </div>
		    </div>
		</div>
		<div class="item code">
			<img src="images/password_icon.png" alt="">
			<input type="text">
			<p>获取验证码</p>
		</div>
		<a href="">立刻登录</a>
	</form>
</div>
<!-- mask end -->
<!-- script begin -->
<script src="scripts/jquery-3.1.1.min.js"></script>
<script>
	$(document).ready(function(){
		//中奖名单滚动
		$(".rosterList").height($(".rosterList p").height()*2);
        var pHeight=$(".rosterList p").height();
		function scroll(){
		   $(".rosterList ul").animate({"margin-top":-pHeight+"px"},function(){
				$(".rosterList ul li:eq(0)").appendTo($(".rosterList ul"));
				$(".rosterList ul").css({"margin-top":0});
		   })
		}
	    setInterval(scroll,1000);

	    //点击领取奖品
		$(".prizeListMask .item p:last-child").on("click",function(){	
			if($(this).hasClass("not")){
				$(this).removeClass("not").text("成功领取").parents(".prizeListMask").hide();
				successMask();
			}else{
				return false;
			}
		});

    });

    //抽奖特效
    var lottery={
	    index:-1,    //当前转动到哪个位置，起点位置
	    count:0,    //总共有多少个位置
	    timer:0,    //setTimeout的ID，用clearTimeout清除
	    speed:20,    //初始转动速度
	    times:0,    //转动次数
	    cycle:50,    //转动基本次数：即至少需要转动多少次再进入抽奖环节
	    prize:-1,    //中奖位置
	    init:function(id){
	        if ($("#"+id).find(".lottery-unit").length>0) {
	            $lottery = $("#"+id);
	            $units = $lottery.find(".lottery-unit");
	            this.obj = $lottery;
	            this.count = $units.length;
	            $lottery.find(".lottery-unit-"+this.index).addClass("active");
	        };
	    },
	    roll:function(){
	        var index = this.index;
	        var count = this.count;
	        var lottery = this.obj;
	        $(lottery).find(".lottery-unit-"+index).removeClass("active");
	        index += 1;
	        if (index>count-1) {
	            index = 0;
	        };
	        $(lottery).find(".lottery-unit-"+index).addClass("active");
	        this.index=index;
	        return false;
	    },
	    stop:function(index){
	        this.prize=index;
	        return false;
	    }
	};
	function roll(){
	    lottery.times += 1;
	    lottery.roll();//转动过程调用的是lottery的roll方法，这里是第一次调用初始化
	    if (lottery.times > lottery.cycle+10 && lottery.prize==lottery.index) {
	        clearTimeout(lottery.timer);
	        lottery.prize=-1;
	        lottery.times=0;
	        click=false;
	    }else{
	        if (lottery.times<lottery.cycle) {
	            lottery.speed -= 10;
	        }else if(lottery.times==lottery.cycle) {
	            var index = Math.random()*(lottery.count)|0;
	            lottery.prize = index;        
	        }else{
	            if (lottery.times > lottery.cycle+10 && ((lottery.prize==0 && lottery.index==7) || lottery.prize==lottery.index+1)) {
	                lottery.speed += 110;
	            }else{
	                lottery.speed += 20;
	            }
	        }
	        if (lottery.speed<40) {
	            lottery.speed=40;
	        };
	        //console.log(lottery.times+'^^^^^^'+lottery.speed+'^^^^^^^'+lottery.prize);
	        lottery.timer = setTimeout(roll,lottery.speed);//循环调用
	    }
	    return false;
	}
	var click=false;
	window.onload=function(){
	    lottery.init('lottery');
	    $("#lottery a").click(function(){
	        if (click) {//click控制一次抽奖过程中不能重复点击抽奖按钮，后面的点击不响应
	            return false;
	        }else{
	            lottery.speed=100;
	            roll();    //转圈过程不响应click事件，会将click置为false
	            click=true; //一次抽奖完成后，设置click为true，可继续抽奖
	            setTimeout(prizeLayer,4500);//中奖弹出框
	            return false;
	        }
	    });
	};

	//活动规则 rule
	function ruleMask(){
		$(".ruleMask").show();
		$(".mask").show();
	}
	//我的奖品 prize
	function prizeMask(){
		$(".prizeListMask").show();
		$(".mask").show();
	}
	//领取成功
	function successMask(){	
		$(".successMask").show();
		$(".mask").show();
	}
	//点击覆盖层
	function maskRun(){
		$(".ruleMask").hide();
		$(".prizeListMask").hide();
		$(".successMask").hide();
		$(".prizeMask").removeClass("prizeMaskActive");
		$(".receivePrizesMask").removeClass("receivePrizesMaskActive");
		$(".receivePrizesIDMask").removeClass("receivePrizesIDMaskActive");
		$(".loginMask").hide();
		$(".mask").hide();
	}
	//点击关闭
	function closeHide(){
		$(".ruleMask").hide();
		$(".prizeListMask").hide();
		$(".notPrize").hide();
		$(".mask").hide();
		$(".prizeMask").removeClass("prizeMaskActive");
		$(".receivePrizesMask").removeClass("receivePrizesMaskActive");
		$(".receivePrizesIDMask").removeClass("receivePrizesIDMaskActive");
	}
	//中奖了
	function prizeLayer(){
		$(".mask").show();
		$(".prizeMask").addClass("prizeMaskActive");
	}
	//立即领取
	function receive(){
		$(".prizeMask").removeClass("prizeMaskActive");
		$(".mask").hide();
		setTimeout(function(){
    		$(".receivePrizesMask").addClass("receivePrizesMaskActive");
    		$(".mask").show();
		},500);
	}
	//领取奖品btn
	function submit(){
		$(".receivePrizesMask").removeClass("receivePrizesMaskActive");
		$(".mask").hide();
		setTimeout(function(){
    		$(".receivePrizesIDMask").addClass("receivePrizesIDMaskActive");
    		$(".mask").show();
		},500);
	}
</script>
<script>
	var oW,touches,oLeft;
	var oSlider=document.getElementById('slider');
	var oTrack=document.getElementById('track');
	var oBtn = document.getElementById('btn');
	var oBtn1=document.getElementById('btn1');
	var oSpinner=document.getElementById('spinner');
	var Ok=document.getElementById('ok');

	oBtn.addEventListener('touchstart',function(e){
	    console.log(e);
	    touches = e.touches[0];
	    oW = touches.clientX - oBtn.offsetLeft;
	    oLeft = touches.clientX - oW;
	    // oBtn.className="button";
	    // oTrack.className="track";
	    document.addEventListener("touchmove",defaultEvent,false);//阻止页面的滑动默认事件
	},false);

	oBtn.addEventListener("touchmove", function(e) {
	    touches = e.touches[0];
	    oLeft = touches.clientX - oW;
	    if(oLeft < 0) {
	        oLeft = 0;
	    }else if(oLeft > document.documentElement.clientWidth - oBtn.offsetWidth) {
	        oLeft = (document.documentElement.clientWidth - oBtn.offsetWidth);
	    }
	    oBtn.style.left = oLeft + "px";
	    oTrack.style.width=oLeft+ 'px';
	},false);

	var loading= function(){
	    oSpinner.style.display='block';
	    Ok.style.display='none';
	}
	var ok=function(){
	    Ok.style.display='flex';
	    oSpinner.style.display='none';
	}
	oBtn.addEventListener("touchend",function(e) {
	    if(oLeft>=(oSlider.clientWidth-oBtn.clientWidth)){
	        oBtn.style.left = (document.documentElement.clientWidth - oBtn.offsetWidth);
	        oTrack.style.width= (document.documentElement.clientWidth - oBtn.offsetWidth);
	        oBtn.style.display='none';
	        oBtn1.style.display='block';
	    }else{
	        oBtn.style.left = 0;
	        oTrack.style.width= 0;
	        oBtn.className="button-on";
	        oTrack.className="track-on";
	    }
	    document.removeEventListener("touchmove",defaultEvent,false);
	},false);

	function defaultEvent(e) {
	    e.preventDefault();
	}

	ok();
</script>
<!-- script end -->
</body>
</html>