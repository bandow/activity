<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <meta name="author" content="name, sycbbb@sina.com"/>
    <meta name="robots" content="index,follow"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="format-detection" content="telephone=no, email=no,adress=no"/>
    <meta name="msapplication-tap-highlight" content="no">
    <link rel="stylesheet" href="styles/auction.css">
    <style>
        .dropload-load{
            text-align: center;
            font-size:.24rem;
        	color:#999;
        	display:none;
        }
        .dropload-load .loading{
            display: inline-block;
            height: 15px;
            width: 15px;
            border-radius: 100%;
            margin: 6px;
            border: 2px solid #666;
            border-bottom-color: transparent;
            vertical-align: middle;
            -webkit-animation: rotate 0.75s linear infinite;
            animation: rotate 0.75s linear infinite;        
        }
        @-webkit-keyframes rotate {
            0% {
                -webkit-transform: rotate(0deg);
            }
            50% {
                -webkit-transform: rotate(180deg);
            }
            100% {
                -webkit-transform: rotate(360deg);
            }
        }
        @keyframes rotate {
            0% {
                transform: rotate(0deg);
            }
            50% {
                transform: rotate(180deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
    <title>拍卖记录</title>
</head>
<body>
	<div class="wrapper auction-wrapper">
		<header class="header auction-header auction-record-header">
			<div class="left"><a class="arrow-left" href="javascript:window.history.back();"></a></div>
			<h1>拍卖记录</h1>
		</header>
		<div class="auction-record-content">
			<ul id="container">
				<li>
					<div class="img"></div>
					<p><span>Subconan</span><span>12-07 10:22:36</span><span>出2200分</span><span class="on-top">领先</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>Subconan</span><span>12-07 10:22:36</span><span>出2200分</span><span class="on-top">领先</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<li>
					<div class="img"></div>
					<p><span>这个名字有点长这个名字有点长</span><span>12-07 10:22:36</span><span>出2200分</span><span>出局</span></p>
				</li>
				<div class="dropload-load items-loading"><span class="loading"></span>加载中...</div>
			</ul>
		</div>
	</div>
	<div class="mask"></div>
	<!-- script begin -->
	<script src="scripts/jquery-3.1.1.min.js"></script>
	<script src="scripts/flexible.js"></script>
	<script>
		var page=0;
    	var flag=true;
		//--------------上拉加载更多---------------
        //获取滚动条当前的位置 
        function getScrollTop() {
            var scrollTop = 0;
            if(document.documentElement && document.documentElement.scrollTop) {
                scrollTop = document.documentElement.scrollTop;
            } else if(document.body) {
                scrollTop = document.body.scrollTop;
            }
            return scrollTop;
        }
        //获取当前可视范围的高度 
        function getClientHeight() {
            var clientHeight = 0;
            if(document.body.clientHeight && document.documentElement.clientHeight) {
                clientHeight = Math.min(document.body.clientHeight, document.documentElement.clientHeight);
            } else {
                clientHeight = Math.max(document.body.clientHeight, document.documentElement.clientHeight);
            }
            return clientHeight;
        }
        //获取文档完整的高度 
        function getScrollHeight() {
            return Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
        }
        //滚动事件触发
        window.onscroll = function() {
            if(getScrollTop() + getClientHeight() == getScrollHeight()) {
               if(flag==true){
	                flag=false;
	                $(".items-loading").show();
	                page++;
	                console.log(page);
	                setTimeout(function(){
	                    $(".items-loading").hide(); 
	                    // ajax加载第二页  定时器可以不需要的 调数据的时候定时器可以去掉
	                },5000);
	            }            
            }
        }
        //-----------------结束--------------------
	</script>
	<!-- script end -->
</body>
</html>